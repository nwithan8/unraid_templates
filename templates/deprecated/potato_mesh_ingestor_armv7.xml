<?xml version="1.0"?>
<Container version="2" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="https://raw.githubusercontent.com/nwithan8/unraid_templates/main/templates/template_schema.xsd template_schema.xsd">
    <Name>PotatoMesh Ingestor - ARMv7</Name>
    <Repository>ghcr.io/l5yth/potato-mesh-ingestor-linux-armv7:latest</Repository>
    <Registry>ghcr.io/l5yth/potato-mesh-ingestor-linux-armv7</Registry>
    <Branch>
        <Tag>latest</Tag>
        <TagDescription>Latest stable release</TagDescription>
    </Branch>
    <Network>bridge</Network>
    <Privileged>false</Privileged>
    <Support>https://github.com/l5yth/potato-mesh/issues</Support>
    <Project>https://potatomesh.net/</Project>
    <Overview>
        A federated, Meshtastic-powered node dashboard for your local community. This is the ingestor container that connects a Meshtastic device to a PotatoMesh instance.
    </Overview>
    <Beta>False</Beta>
    <Category>Productivity: Tools: Other: Status:Stable</Category>
    <ExtraSearchTerms>mesh meshtastic data node ingestor potato</ExtraSearchTerms>
    <Icon>https://raw.githubusercontent.com/nwithan8/unraid_templates/master/images/potatomesh-icon.png</Icon>
    <TemplateURL>https://raw.githubusercontent.com/nwithan8/unraid_templates/main/templates/potato_mesh_ingestor_armv7.xml</TemplateURL>
    <Screenshot>https://raw.githubusercontent.com/l5yth/potato-mesh/main/scrot-0.4.png</Screenshot>
    <Maintainer>
        <WebPage>https://github.com/nwithan8</WebPage>
    </Maintainer>
    <Changes>
        ### 2026-01-19

        Initial release
    </Changes>
    <Requires>
        Requires a Meshtastic node.
    </Requires>
    <Config Name="USB Device" Target="/dev/ttyUSB0" Default="/dev/ttyUSB0" Description="USB device to use for ingestion." Type="Device" Display="always-hide" Required="true" Mask="false">/dev/ttyUSB0</Config>
    <Config Name="Instance Domain" Target="INSTANCE_DOMAIN" Default="" Description="Domain of the web instance to connect to." Type="Variable" Display="always-hide" Required="true" Mask="false"/>
    <Config Name="PotatoMesh Instance" Target="POTATOMESH_INSTANCE" Default="" Description="Domain of the PotatoMesh instance to connect to." Type="Variable" Display="always-hide" Required="true" Mask="false"/>
    <Config Name="API Key" Target="API_TOKEN" Default="" Description="API key for authenticating with the PotatoMesh instance." Type="Variable" Display="always-hide" Required="true" Mask="true"/>
    <Config Name="Site Name" Target="SITE_NAME" Default="" Description="Name of the site for this ingestor." Type="Variable" Display="always-hide" Required="true" Mask="false"/>
    <Config Name="Allowed Channels" Target="ALLOWED_CHANNELS" Default="LongFast" Description="Comma-separated channel names the ingestor accepts; other channels are skipped before hidden filters." Type="Variable" Display="always-hide" Required="true" Mask="false">LongFast</Config>
    <Config Name="Hidden Channels" Target="HIDDEN_CHANNELS" Default="" Description="Comma-separated channel names the ingestor skips after allowed filters." Type="Variable" Display="always" Required="false" Mask="false"/>
    <Config Name="Federation" Target="FEDERATION" Default="1|0" Description="Enable or disable PotatoMesh federation features." Type="Variable" Display="always-hide" Required="true" Mask="false"/>
    <Config Name="Private" Target="PRIVATE" Default="0|1" Description="Hide public mesh messages from unauthenticated visitors (1=hidden, 0=public)" Display="always-hide" Type="Variable" Required="true" Mask="false"/>
    <Config Name="Channel Index" Target="CHANNEL_INDEX" Default="0" Description="Index of the channel to use on the USB device." Type="Variable" Display="advanced-hide" Required="true" Mask="false">0</Config>
    <Config Name="Internal USB Device" Target="CONNECTION" Default="/dev/ttyUSB0" Description="Internal path to the USB device. Not recommended to change." Type="Variable" Display="advanced-hide" Required="true" Mask="false">/dev/ttyUSB0</Config>
    <Config Name="Localtime path" Target="/etc/localtime" Default="/etc/localtime" Mode="ro" Description="Localtime path" Type="Path" Display="advanced-hide" Required="true" Mask="false">/etc/localtime</Config>
    <Config Name="Debugging" Target="DEBUG" Default="0|1" Description="Enable or disable debugging." Type="Variable" Display="advanced-hide" Required="true" Mask="false"/>
</Container>
